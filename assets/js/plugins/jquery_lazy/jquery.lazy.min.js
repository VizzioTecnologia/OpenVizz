/*! jQuery Lazy 0.6.1 - MIT & GPL-2.0 license - Copyright 2012-2015 Daniel 'Eisbehr' Kern */
(function(c,n,A,t){function z(f,b,a,l){function e(){x=1<n.devicePixelRatio;h(a);0<=b("delay")&&setTimeout(function(){u(!0)},b("delay"));if(0>b("delay")||b("combined"))l.e=t(b("throttle"),function(k){"resize"===k.type&&(p=q=-1);u(k.all)}),l.a=function(k){h(k);a.push.apply(a,k)},l.g=function(){return a},u(),c(b("appendScroll")).on("scroll."+f.name+" resize."+f.name,l.e)}function h(k){k=c(k).filter(function(){return!c(this).data(b("handledName"))&&(c(this).attr(b("attribute"))||c(this).attr(b("loaderAttribute")))}).data("plugin_"+f.name,f);if(b("onError"))k.on("error."+f.name,function(){m("onError",c(this))});if(b("defaultImage")||b("placeholder"))for(var a=0;a<k.length;a++){var d=c(k[a]),y=k[a].tagName.toLowerCase();"img"==y&&b("defaultImage")&&!d.attr("src")?d.attr("src",b("defaultImage")):"img"==y||!b("placeholder")||d.css("background-image")&&"none"!=d.css("background-image")||d.css("background-image","url("+b("placeholder")+")")}}function u(k){if(a.length){for(var e=!1,d=0;d<a.length;d++)(function(a){var g=a.getBoundingClientRect(),d=b("scrollDirection"),f=b("threshold"),h=(0<=q?q:q=c(n).height())+f>g.top&&-f<g.bottom,g=(0<=p?p:p=c(n).width())+f>g.left&&-f<g.right;if(("vertical"==d?h:"horizontal"==d?g:h&&g)||k){d=c(a);a=a.tagName.toLowerCase();var h=d.attr(b("attribute")),l;d.data(b("handledName"))||b("visibleOnly")&&!d.is(":visible")||!(h&&("img"==a&&h!=d.attr("src")||"img"!=a&&h!=d.css("background-image"))||(l=d.attr(b("loaderAttribute"))))||(e=!0,d.data(b("handledName"),!0),r(d,a,l))}})(a[d]);e&&(a=c(a).filter(function(){return!c(this).data(b("handledName"))}))}else b("autoDestroy")&&f.destroy()}function r(a,f,d){++v;var h=function(){m("onError",a);w()};m("beforeLoad",a);if(d)a.off("error").one("error",h),a.one("load",function(){b("removeAttribute")&&a.removeAttr(b("loaderAttribute"));m("afterLoad",a);w()}),m(d,a,function(b){b?a.load():a.error()})||a.error();else{var g=c(new Image);g.one("error",h);g.one("load",function(){a.hide();"img"==f?a.attr("src",g.attr("src")):a.css("background-image","url("+g.attr("src")+")");a[b("effect")](b("effectTime"));b("removeAttribute")&&a.removeAttr(b("attribute")+" "+b("retinaAttribute"));m("afterLoad",a);g.remove();w()});g.attr("src",a.attr(b(x&&a.attr(b("retinaAttribute"))?"retinaAttribute":"attribute")));g.complete&&g.load()}}function t(a,c){var d,h=0;return function(g,e){function l(){h=+new Date;c.call(f,g)}var m=+new Date-h;d&&clearTimeout(d);m>a||!b("enableThrottle")||e?l():d=setTimeout(l,a-m)}}function w(){--v;a.size()||v||m("onFinishedAll")}function m(a,h,d){return(a=b(a))?(a.apply(f,c(arguments).slice(1)),!0):!1}var v=0,p=-1,q=-1,x=!1;"event"==b("bind")?e():c(n).load(e)}function r(f,b){var a=this,l=c.extend({},a.configuration,b),e={};a.config=function(b,c){if(c===t)return l[b];l[b]=c;return a};a.addItems=function(b){e.a&&e.a("string"===c.type(b)?c(b):b);return a};a.getItems=function(){return e.g?e.g():{}};a.update=function(b){e.e&&e.e({},!b);return a};a.loadAll=function(){e.e&&e.e({all:!0},!0);return a};a.destroy=function(){c(a.config("appendScroll")).off("."+a.name,e.e);e={}};z(a,a.config,f,e);return a.config("chainable")?f:a}c.fn.Lazy=c.fn.lazy=function(c){return new r(this,c)};c.extend(r.prototype,{name:"lazy",configuration:{chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:n,scrollDirection:"both",defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",retinaAttribute:"data-retina",loaderAttribute:"data-loader",removeAttribute:!0,handledName:"handled",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:null,afterLoad:null,onError:null,onFinishedAll:null}})})(jQuery,window,document);